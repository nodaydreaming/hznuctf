<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>CTF平台管理系统--添加比赛</title>
        <meta name="renderer" content="webkit">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
        <meta name="apple-mobile-web-app-status-bar-style" content="black"> 
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="format-detection" content="telephone=no">
        
        <link rel="stylesheet" href="../../../layui/css/layui.css" media="all">
        <link rel="stylesheet" href="../../../layui/css/global.css" media="all">
        <link rel="stylesheet" href="../../../layui/css/modules/layer/default/layer.css" media="all">

        <script type="text/javascript" src="../js/jquery-3.3.1.js"></script>
        <script src="../js/general.js" charset="utf-8"></script>

        <style>
            .bg-color-menu {
                background-color: #20222A !important;
            }
        </style>

    </head>
    <body>
        <div class="layui-layout layui-layout-admin">
            <!-- 顶部导航栏 -->
            <div class="layui-header header header-demo">
                <div class="layui-main">
                    <a class="" href="../main.html" style="height: 100%; font-size: 20px;color: rgba(255, 255, 255, 0.8); line-height: 57px; font-weight: 500">
                    CTF平台管理系统
                    </a>
                    <div class="layui-form component" lay-filter="LAY-site-header-component"></div>
                    <ul class="layui-nav">
                        <li class="layui-nav-item ">
                        <a href="../../../ctf/home.html">返回前台</a>
                        </li>
                        <li class="layui-nav-item">
                            <a href="javascript:;">
                                <img src="../images/user_default.jpg" class="layui-nav-img">
                                我
                                <span class="layui-nav-more"></span>
                            </a>
                            <dl class="layui-nav-child layui-anim layui-anim-upbit" id="list_cur" style="top: 60px;">
                                <dd style="border: 0px; height: 5px;"></dd>
                                <dd><a onclick="updatePwd()" style="cursor:pointer;">修改密码</a></dd>
                                <dd><a onclick="openUpdate()" style="cursor:pointer;">修改信息</a></dd>
                                <dd><a onclick="signOut()" style="cursor:pointer;">退出</a></dd>
                            </dl>
                        </li>
                    </ul>
                </div>
            </div>
            <!-- 左侧垂直导航栏 -->
            <div class="layui-side layui-bg-black">
                <div class="layui-side-scroll bg-color-menu">
                    <ul class="layui-nav layui-nav-tree">
                        <li class="layui-nav-item bg-color-menu">
                            <a href="javascript:;"><i class="layui-icon layui-icon-home" style="font-size:16px;"></i>&nbsp;&nbsp;平台管理</a>
                            <dl class="layui-nav-child">
                                <dd class="">
                                    <a href="../platform/data_statistics.html">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;数据统计</a>
                                </dd>
                                <dd class="">
                                    <a href="../platform/announcement.html">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;公告管理</a>
                                </dd>
                            </dl>
                        </li>
                        
                        <li class="layui-nav-item layui-nav-itemed bg-color-menu">
                            <a href="javascript:;"><i class="layui-icon layui-icon-flag" style="font-size:16px;"></i>&nbsp;&nbsp;赛事管理</a>
                            <dl class="layui-nav-child">
                                <dd class="layui-this">
                                    <a href="#">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;创建赛事</a>
                                </dd>
                                <dd class="">
                                    <a href="contest_list.html">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;赛事列表</a>
                                </dd>
                            </dl>
                        </li>
                        
                        <li class="layui-nav-item bg-color-menu">
                            <a href="javascript:;"><i class="layui-icon layui-icon-template-1" style="font-size:16px;"></i>&nbsp;&nbsp;题目管理</a>
                            <dl class="layui-nav-child">
                                <dd class="">
                                    <a href="../problem/add_problem.html">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;添加题目</a>
                                </dd>
                                <dd class="">
                                    <a href="../problem/problem_set.html">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;题目列表</a>
                                </dd>
                                <dd class="">
                                    <a href="../problem/problem_type.html">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;题目类型</a>
                                </dd>
                            </dl>
                        </li>
                        
                        <li class="layui-nav-item bg-color-menu">
                            <a href="javascript:;"><i class="layui-icon layui-icon-user" style="font-size:16px;"></i>&nbsp;&nbsp;用户管理</a>
                            <dl class="layui-nav-child">
                                <dd class="">
                                    <a href="../user/user_list.html">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;用户列表</a>
                                </dd>
                                <dd class="">
                                    <a href="../user/records.html">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;提交记录</a>
                                </dd>
                            </dl>
                        </li>
                        <li class="layui-nav-item bg-color-menu">
                            <a href="javascript:;"><i class="layui-icon layui-icon-set" style="font-size:16px;"></i>&nbsp;&nbsp;管理员信息</a>
                            <dl class="layui-nav-child">
                                <dd class="">
                                    <a href="../admin/add_admin.html">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;添加管理员</a>
                                </dd>
                                <dd class="">
                                    <a href="../admin/admin_list.html">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;管理员列表</a>
                                </dd>
                            </dl>
                        </li>
                        
                        <!-- <li class="layui-nav-item" style="height: 30px; text-align: center"></li> -->
                    </ul>
                </div>
            </div>
            <!-- 主体内容 -->
            <div class="layui-body" id="LAY_app_body">
                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
                    <legend>添加比赛</legend>
                </fieldset>
                <form class="layui-form" action="" style="margin:50px 0 0 5%; font-size:15px">
                    <div class="layui-form-item">
                        <label class="layui-form-label">比赛名称</label>
                        <div class="layui-input-block">
                        <input type="text" id="contest_title" autocomplete="off" placeholder="请输入比赛名称" required class="layui-input" style="width: 50%;" onchange="inputLimit()" onkeydown="inputLimit()" onkeyup="inputLimit()">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">比赛编号</label>
                        <div class="layui-input-block">
                        <input type="text" id="contest_number" autocomplete="off" placeholder="请输入比赛编号" required class="layui-input" style="width: 50%;" onchange="inputLimit()" onkeydown="inputLimit()" onkeyup="inputLimit()">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">主办方</label>
                        <div class="layui-input-block">
                        <input type="text" id="contest_organizer" autocomplete="off" placeholder="请输入主办方" required class="layui-input" style="width: 50%;" onchange="inputLimit()" onkeydown="inputLimit()" onkeyup="inputLimit()">
                        </div>
                    </div>
                    <!--<div class="layui-form-item" style="margin-top:2%">-->
                        <!--<label class="layui-form-label">比赛简介</label>-->
                        <!--<div class="layui-input-block">-->
                            <!--<textarea class="tcp_content layui-textarea" placeholder="请输入比赛简介，500字以内" style="width: 50%;" maxlength="500" -->
                            <!--onchange="textarea_fun()" onkeydown="textarea_fun()" onkeyup="textarea_fun()"></textarea>-->
                            <!--<span class="t_h" style="float: left; margin-left: 45%"><i>0</i>/500</span>-->
                        <!--</div>-->
                    <!--</div>-->
                    <div class="layui-form-item" style="margin-top:0.5%">
                        <label class="layui-form-label">开始时间</label>
                        <div class="layui-input-block">
                            <input type="text" id="contest_starttime" autocomplete="off" placeholder="yyyy-MM-dd HH:mm:ss" class="layui-input" style="width:200px"
                            onkeypress="if(event.keyCode==13){event.keyCode=0;event.returnValue=false;}">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">结束时间</label>
                        <div class="layui-input-block">
                            <input type="text" id="contest_endtime" autocomplete="off" placeholder="yyyy-MM-dd HH:mm:ss" class="layui-input" style="width:200px"
                            onkeypress="if(event.keyCode==13){event.keyCode=0;event.returnValue=false;}">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">比赛类型</label>
                        <input name="contest_type" title="团队赛"  type="radio" checked="" value="team">
                        <div class="layui-unselect layui-form-radio layui-form-radioed">
                            <i class="layui-anim layui-icon"></i>
                            <div>团队赛</div>
                        </div>
                        <input name="contest_type" title="个人赛" type="radio" value="individual">
                        <div class="layui-unselect layui-form-radio">
                            <i class="layui-anim layui-icon"></i>
                            <div>个人赛</div>
                        </div>
                    </div>
                    <div class="layui-form-item" style="margin-top:2.5%">
                        <div class="layui-input-inline" style="width:40%">
                            <label class="layui-form-label">比赛端IP</label>
                            <input type="text" id="contest_ip" autocomplete="off" required class="layui-input" style="width: 50%;" onchange="inputLimit()" onkeydown="inputLimit()" onkeyup="inputLimit()">
                        </div>
                        <div class="layui-input-inline" style="width:40%">
                            <label class="layui-form-label">端口</label>
                            <input type="text" id="contest_port" autocomplete="off" required class="layui-input" style="width: 50%;" onchange="inputLimit()" onkeydown="inputLimit()" onkeyup="inputLimit()">
                        </div>
                    </div>
                    <div class="layui-form-item" style="margin-top:2.5%">
                        <div class="layui-input-inline" style="width:40%">
                            <label class="layui-form-label">账号</label>
                            <input type="text" id="contest_account" autocomplete="off" required class="layui-input" style="width: 50%;" onchange="inputLimit()" onkeydown="inputLimit()" onkeyup="inputLimit()">
                        </div>
                        <div class="layui-input-inline" style="width:40%">
                            <label class="layui-form-label">密码</label>
                            <input type="password" id="contest_password" autocomplete="off" required class="layui-input" style="width: 50%;" onchange="inputLimit()" onkeydown="inputLimit()" onkeyup="inputLimit()">
                        </div>
                    </div>
                    <!-- 下拉多选框，比赛管理员的选择 -->
                    <div class="layui-form-item" id="admin_select">
                        <label class="layui-form-label">比赛管理员（可多选）</label>
                        <div class="layui-input-block" style="max-width: 50%; padding-top: 1%">
                            <select id="selected_admins" name="admins" lay-filter="admin">
                                <option value="">请选择比赛管理员</option>

                            </select>
                        </div>
                    </div>

                    <div class="layui-input-block" style="margin-top:3.5%" id="buttons">
                        <button type="button" class="layui-btn" onclick="add_contest()">立即提交</button>
                        <button type="reset" class="layui-btn layui-btn-primary" style="margin-left: 5%">重置</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- 引入或者加载脚本 -->
        <script src="../../../layui/layui.all.js" charset="utf-8"></script>
        <script src="../../../layui/formSelects.js" charset="utf-8"></script>
        <script src="js/add_contest.js" charset="utf-8"></script>

        <div id="LAY_democodejs">
            <script type="text/javascript">

                //使用layui的模块拓展功能
                layui.use('form', function(){
                    var form = layui.form;
                    fillSelects(form);
                });
                // formSelects.array('select0');//获得select0所选中的值，返回一个数组
                //日期选择输入框的渲染
                layui.use('laydate', function(){
                    var laydate = layui.laydate;
                    laydate.render({
                        elem : "#contest_starttime"
                        ,type: 'datetime'
                    });
                });
                layui.use('laydate', function(){
                    var laydate = layui.laydate;
                    laydate.render({
                        elem : "#contest_endtime"
                        ,type: 'datetime'
                    });
                });

                layui.use('element', function(){
                    var element = layui.element; //导航的hover效果、二级菜单等功能，需要依赖element模块
                    //监听导航点击
                    element.on('nav(demo)', function(elem){
                        //console.log(elem)
                        layer.msg(elem.text());
                    });
                });
            </script>
        </div>
    </body>
</html>